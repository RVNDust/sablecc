# This file is part of SableCC ( http://sablecc.org ).
#
# See the NOTICE file distributed with this work for copyright information.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Tests for ObjectMacro.

# ========== test macro : normal identifier ==========

Macro text_normal_id
{Begin}
Hello !!
{End}

# ========== test macro : rich identifier ==========

Macro teXTRIChid
{Begin}
Simples examples for ObjectMacro.
{End}

# ========== test macro : params and internals ==========

Macro text_params
    Param
        comment1 : String;
        comment2 : String;
{Begin}
    {comment1} {comment2}
{End}

Macro textparAMs
    Param
        comment1 : String;
        comment2 : String;
{Begin}
    {comment1} {comment2}
{End}

Macro text_internals
    Internal
        a : String;
        b : String;
{Begin}
{a}
{b}
{End}

Macro macro_params
    Param
        comment1 : textparAMs;
        comment2 : text_params;
{Begin}
    {comment1} {comment2}
{End}

Macro macro_internals
    Internal
        comment1 : textparAMs;
        comment2 : text_params;
{Begin}
    {comment1} {comment2}
{End}

Macro macro_internals_references
    Param
        a : String;
        b : text_params;
        c : textparAMs;
        d : macro_internals(c, b);

{Begin}
    {a}
    {b}
    {c}
    {d}
{End}

Macro macro_params_internals_references
    Param
        a : macro_internals(c, b);
    Internal
        b : text_params;
        c : textparAMs;
{Begin}
{a}
{b}
{c}
{End}

# ========== test macro : insert ==========

Macro macro_insert_hello
{Begin}
    Hello !!
{End}

Macro macro_insert_bye
{Begin}
    Nice to meet you.
{End}

Macro macro_insert_internals
    Internal
        a : String;
        b : String;
        c : macro_insert_bye;
{Begin}
{a}
{b}
{c}
{End}

Macro macro_insert
    Param
        a : macro_insert_bye;
        b : macro_insert_hello;
{Begin}
    {Insert: macro_insert_hello}
    {Insert: macro_insert_bye}
    {Insert: macro_insert_internals("StringA", "StringB", a)}
    {b}
{End}

Macro macro_insert_recursive
    Param
        a : macro_insert_bye;
{Begin}
{a}
{Insert: macro_insert_internals("{Insert: macro_insert_internals("A", "B", a)}", "StringB", a)}
{End}

# ========= test macros : directives =========

Macro macro_hello
{Begin}
Hello
{End}

Macro macro_directives
    Param
        a : macro_hello, separator="New Hello",
                         before_first="Greetings {b}",
                         none="No one is respectful",
                         after_last="Thanks for saying hello {Insert: macro_hello}";
        b : String;
{Begin}
{a}
{End}
