# This file is part of SableCC ( http://sablecc.org ).
#
# See the NOTICE file distributed with this work for copyright information.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# Tests for ObjectMacro.

# ========== test macro : normal identifier ==========

Macro text_normal_id
{Begin}
Hello !!
{End}

# ========== test macro : rich identifier ==========

Macro teXTRIChid
{Begin}
Simples examples for ObjectMacro.
{End}

# ========== test macro : params ==========

Macro text_params
    Params
        comment1 : String;
        comment2 : String;
{Begin}
    {comment1} {comment2}
{End}

Macro textparAMs
    Params
        comment1 : String;
        comment2 : String;
{Begin}
    {comment1} {comment2}
{End}

# ========== test macro : insert ==========

Macro macro_insert_hello
{Begin}
    Hello !!
{End}

Macro macro_insert_bye
{Begin}
    Nice to meet you.
{End}

Macro macro_insert
{Begin}
    {Insert: macro_insert_hello}
    {Insert: macro_insert_bye}
{End}

$comment: ========== test macro : insert ========== $

$macro: macro_insert(comment1, comment2) $
$insert: text_normal_id $
$insert: text_params($comment1, ".") $
$insert: <teXTRIChid> $
$insert: <textparAMs>("Have you read these tests", $comment2) $
Bye !
$end: macro_insert $

$macro: <MacroInsert>(comment) $
$insert: <textparAMs>(text_params("Hello !!", " What's your name") , text_params($comment, " Nice to meet you !")) $
$insert: <textparAMs>(<textparAMs>("Do you make test for ObjectMacro", "\nIt's great\n"), <textparAMs>("^_^", " ")) $
$end: <MacroInsert> $


$comment: ========== test macro : no_eol ========== $

$macro: macro_no_eol $
 $expand: macro_no_eol_hello $
 $expand: <mACrOrIChId> $

 $expand: macro_normal_id $
 $expand: <mACrOrIChId> $
$end: macro_no_eol $

$macro: macro_no_eol_hello $
Hello. $no_eol$
$end: macro_no_eol_hello $


$comment: ========== test expand : helpers ========== $

$macro: expand_helpers $
$expand: macro_params, before_one="Hello man !! \n",
                       before_many="Hello men !!  \n",
                       after_one="Nice to meet you ! \n",
                       after_many="It's a pleasure to meet you ! \n",
                       separator="\n",
                       none="Nobody is here ! \n" $
$end: expand_helpers $

$macro: <expandHelpers> $
$expand: macro_params, before_first=text_normal_id,
                       after_last=text_params("Nice to meet you", " ! \n"),
                       separator="\n",
                       none="Nobody is here ! \n" $
$end: <expandHelpers> $







