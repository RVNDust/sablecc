/* This file was generated by SableCC's ObjectMacro. */

#include<stdlib.h>
#include<stdio.h>

#include "LinkedListNode.h"
#include "LinkedList.h"

struct LinkedListVT VT_LinkedList={0, &HT_LinkedList, &LinkedList_push};
void* HT_LinkedList[] = {&VT_LinkedList};

LinkedList* new_LinkedList()
{
    LinkedList* linkedList = malloc(sizeof(LinkedList));
    linkedList->vt = &VT_LinkedList;
    linkedList->nodes = NULL;
}

void free_LinkedList(LinkedList* This)
{
    //TODO
}

void LinkedList_push(LinkedList* This, void *new_data, size_t data_size)
{
    struct Node* new_node = (struct Node*)malloc(sizeof(struct Node));
    new_node->data = malloc(data_size);

    if(This->nodes != NULL)
    {
        new_node->next = This->nodes;
    }

    // Copy contents of new_data to newly allocated memory.
    // Assumption: char takes 1 byte
    int i;
    for (i=0; i<data_size; i++)
    {
        *(char *)(new_node->data + i) = *(char *)(new_data + i);
    }

    This->nodes = new_node;
}